<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy Training Record Tracker - Secure FHE System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #ffffff;
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .header h1 {
            color: #ffffff;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .header .icon {
            font-size: 3em;
            margin-bottom: 15px;
            display: block;
        }

        .subtitle {
            color: #e8f4f8;
            font-size: 1.2em;
            opacity: 0.9;
        }

        .wallet-section {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .wallet-info {
            background: rgba(255, 255, 255, 0.15);
            padding: 12px 20px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            font-weight: 500;
        }

        .btn {
            background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border: none;
            padding: 14px 28px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
        }

        .btn:disabled {
            background: rgba(255, 255, 255, 0.3);
            color: #ccc;
            cursor: not-allowed;
            box-shadow: none;
        }

        .btn-success {
            background: linear-gradient(45deg, #11998e 0%, #38ef7d 100%);
        }

        .btn-warning {
            background: linear-gradient(45deg, #f093fb 0%, #f5576c 100%);
        }

        .panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .panel h2 {
            color: #ffffff;
            margin-bottom: 25px;
            font-size: 1.8em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #ffffff;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 14px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
            font-size: 14px;
            backdrop-filter: blur(5px);
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);
        }

        .form-group input::placeholder,
        .form-group textarea::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .record-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 25px;
            margin-top: 25px;
        }

        .record-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 25px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .record-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
            border-color: #667eea;
        }

        .record-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
        }

        .record-card h3 {
            color: #ffffff;
            margin-bottom: 15px;
            font-size: 1.3em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .record-info span {
            display: block;
            margin-bottom: 10px;
            color: #e8f4f8;
            font-size: 0.95em;
        }

        .status-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            margin: 5px 0;
        }

        .status-active {
            background: rgba(17, 153, 142, 0.3);
            color: #38ef7d;
            border: 1px solid #38ef7d;
        }

        .status-completed {
            background: rgba(56, 239, 125, 0.3);
            color: #38ef7d;
            border: 1px solid #38ef7d;
        }

        .status-expired {
            background: rgba(245, 87, 108, 0.3);
            color: #f5576c;
            border: 1px solid #f5576c;
        }

        .status-pending {
            background: rgba(255, 193, 7, 0.3);
            color: #ffc107;
            border: 1px solid #ffc107;
        }

        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            color: #333;
            padding: 16px 24px;
            border-radius: 10px;
            max-width: 400px;
            transform: translateX(450px);
            transition: transform 0.4s ease;
            z-index: 1000;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast.error {
            background: rgba(245, 87, 108, 0.95);
            color: #fff;
        }

        .toast.success {
            background: rgba(56, 239, 125, 0.95);
            color: #fff;
        }

        .empty-state {
            text-align: center;
            padding: 50px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            color: #e8f4f8;
        }

        .empty-state .icon {
            font-size: 4em;
            margin-bottom: 20px;
            opacity: 0.6;
        }

        .tabs {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            background: rgba(255, 255, 255, 0.1);
            padding: 8px;
            border-radius: 12px;
            backdrop-filter: blur(10px);
        }

        .tab {
            flex: 1;
            padding: 12px 20px;
            text-align: center;
            background: transparent;
            border: none;
            border-radius: 8px;
            color: #e8f4f8;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .tab.active {
            background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .stat-label {
            color: #e8f4f8;
            margin-top: 5px;
            font-size: 0.95em;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .wallet-section {
                flex-direction: column;
            }
            
            .record-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="icon">üõ°Ô∏è</div>
            <h1>Privacy Training Record Tracker</h1>
            <p class="subtitle">Confidential Training Management with FHE Technology</p>
            <div class="wallet-section">
                <div class="wallet-info">
                    <span id="walletAddress">Not Connected</span>
                </div>
                <button class="btn" id="connectBtn">Connect Wallet</button>
            </div>
        </header>

        <div class="panel">
            <h2>üìä Training Statistics</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalRecords">0</div>
                    <div class="stat-label">Total Records</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="completedTraining">0</div>
                    <div class="stat-label">Completed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="expiredTraining">0</div>
                    <div class="stat-label">Expired</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="pendingTraining">0</div>
                    <div class="stat-label">Pending</div>
                </div>
            </div>
        </div>

        <div class="panel">
            <h2>‚ûï Create Training Record</h2>
            <form id="createRecordForm">
                <div class="form-group">
                    <label>Employee Address</label>
                    <input type="text" id="employeeAddress" placeholder="0x..." required>
                </div>
                <div class="form-group">
                    <label>Employee Name</label>
                    <input type="text" id="employeeName" placeholder="Enter employee name" required>
                </div>
                <div class="form-group">
                    <label>Training Module</label>
                    <select id="trainingModule" required>
                        <option value="">Select training module</option>
                        <option value="data-privacy">Data Privacy Fundamentals</option>
                        <option value="gdpr-compliance">GDPR Compliance</option>
                        <option value="security-awareness">Security Awareness</option>
                        <option value="incident-response">Incident Response</option>
                    </select>
                </div>
                <button type="submit" class="btn">Create Training Record</button>
            </form>
        </div>

        <div class="panel">
            <h2>üìã Training Dashboard</h2>
            <div class="tabs">
                <button class="tab active" onclick="switchTab('all')">All Records</button>
                <button class="tab" onclick="switchTab('pending')">Pending</button>
                <button class="tab" onclick="switchTab('completed')">Completed</button>
                <button class="tab" onclick="switchTab('expired')">Expired</button>
            </div>
            
            <div id="allTab" class="tab-content active">
                <div id="allRecords" class="record-grid">
                    <div class="empty-state">
                        <div class="icon">üìö</div>
                        <p>No training records found</p>
                    </div>
                </div>
            </div>
            
            <div id="pendingTab" class="tab-content">
                <div id="pendingRecords" class="record-grid">
                    <div class="empty-state">
                        <div class="icon">‚è≥</div>
                        <p>No pending training records</p>
                    </div>
                </div>
            </div>
            
            <div id="completedTab" class="tab-content">
                <div id="completedRecords" class="record-grid">
                    <div class="empty-state">
                        <div class="icon">‚úÖ</div>
                        <p>No completed training records</p>
                    </div>
                </div>
            </div>
            
            <div id="expiredTab" class="tab-content">
                <div id="expiredRecords" class="record-grid">
                    <div class="empty-state">
                        <div class="icon">‚ö†Ô∏è</div>
                        <p>No expired training records</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="panel" id="completeTrainingPanel" style="display: none;">
            <h2>‚úÖ Complete Training</h2>
            <form id="completeTrainingForm">
                <input type="hidden" id="completingRecordId">
                <div class="form-group">
                    <label>Training Completed</label>
                    <select id="trainingCompleted" required>
                        <option value="">Select completion status</option>
                        <option value="true">Yes - Completed</option>
                        <option value="false">No - Not Completed</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Certification Achieved</label>
                    <select id="certificationAchieved" required>
                        <option value="">Select certification status</option>
                        <option value="true">Yes - Certified</option>
                        <option value="false">No - Not Certified</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Score (0-100)</label>
                    <input type="number" id="trainingScore" min="0" max="100" required>
                </div>
                <div class="form-group">
                    <label>Notes</label>
                    <textarea id="trainingNotes" rows="3" placeholder="Additional notes about the training completion"></textarea>
                </div>
                <div style="display: flex; gap: 15px;">
                    <button type="submit" class="btn btn-success">Complete Training</button>
                    <button type="button" class="btn" onclick="cancelCompleteTraining()">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <div id="toast" class="toast"></div>

    <script src="https://unpkg.com/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <script>
        // Configuration
        const CONFIG = {
            CONTRACT_ADDRESS: "0xf5288a878Cd8c463BbdbA8F3Df17326fDFEe5ccC", // Will be set after deployment
            SEPOLIA: {
                chainId: 11155111,
                name: "Sepolia",
                rpcUrl: "https://sepolia.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"
            }
        };

        // Contract ABI
        const CONTRACT_ABI = [
            "function createTrainingRecord(address employee, string employeeName, string trainingModule) returns (uint256)",
            "function completeTraining(uint256 recordId, bool completed, bool certified, uint256 score, string notes)",
            "function getTrainingRecord(uint256 recordId) view returns (address, string, string, uint256, uint256, bool, uint256, string)",
            "function getEmployeeTrainingStatus(address employee) view returns (uint256[])",
            "function isTrainingExpired(uint256 recordId) view returns (bool)",
            "function recordCounter() view returns (uint256)",
            "function authorizedTrainers(address) view returns (bool)",
            "function authorizeTrainer(address trainer)",
            "function revokeTrainer(address trainer)",
            "function getActiveTrainingModules() view returns (string[], string[], string[], uint256[])",
            "event TrainingRecordCreated(uint256 indexed recordId, address indexed employee, string trainingModule)",
            "event TrainingCompleted(uint256 indexed recordId, address indexed employee, bool passed)"
        ];

        // Global variables
        let provider, signer, contract;
        let currentAccount = null;
        let allRecords = [];

        // Utility functions
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.className = `toast ${type} show`;
            setTimeout(() => {
                toast.classList.remove('show');
            }, 4000);
        }

        function switchTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');

            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(tabName + 'Tab').classList.add('active');

            displayRecords(tabName);
        }

        // Wallet connection
        async function connectWallet() {
            if (!window.ethereum) {
                showToast('Please install MetaMask', 'error');
                return;
            }

            try {
                const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
                currentAccount = accounts[0];
                
                provider = new ethers.providers.Web3Provider(window.ethereum);
                signer = provider.getSigner();
                
                // Load contract address
                await loadContractAddress();
                
                if (CONFIG.CONTRACT_ADDRESS) {
                    contract = new ethers.Contract(CONFIG.CONTRACT_ADDRESS, CONTRACT_ABI, signer);
                }

                document.getElementById('walletAddress').textContent = 
                    currentAccount.slice(0, 8) + '...' + currentAccount.slice(-6);
                document.getElementById('connectBtn').textContent = 'Disconnect';
                document.getElementById('connectBtn').onclick = disconnectWallet;

                showToast('Wallet connected successfully!');
                await loadTrainingRecords();
                
            } catch (error) {
                showToast('Failed to connect wallet: ' + error.message, 'error');
            }
        }

        function disconnectWallet() {
            currentAccount = null;
            provider = null;
            signer = null;
            contract = null;
            
            document.getElementById('walletAddress').textContent = 'Not Connected';
            document.getElementById('connectBtn').textContent = 'Connect Wallet';
            document.getElementById('connectBtn').onclick = connectWallet;

            showToast('Wallet disconnected');
            clearDashboard();
        }

        async function loadContractAddress() {
            try {
                const response = await fetch('./deployment.json');
                if (response.ok) {
                    const deployment = await response.json();
                    CONFIG.CONTRACT_ADDRESS = deployment.contract;
                } else {
                    const address = prompt('Enter Privacy Training Contract Address:');
                    if (address) {
                        CONFIG.CONTRACT_ADDRESS = address;
                    }
                }
            } catch (error) {
                console.log('No deployment file found, contract address needed manually');
            }
        }

        // Training record functions
        async function createTrainingRecord(e) {
            e.preventDefault();
            
            if (!contract || !currentAccount) {
                showToast('Please connect wallet first', 'error');
                return;
            }

            try {
                const employeeAddress = document.getElementById('employeeAddress').value;
                const employeeName = document.getElementById('employeeName').value;
                const trainingModule = document.getElementById('trainingModule').value;

                showToast('Creating training record...');
                
                const tx = await contract.createTrainingRecord(
                    employeeAddress,
                    employeeName,
                    trainingModule
                );
                
                await tx.wait();
                showToast('Training record created successfully!');
                document.getElementById('createRecordForm').reset();
                
                await loadTrainingRecords();
                
            } catch (error) {
                showToast('Failed to create training record: ' + error.message, 'error');
            }
        }

        async function completeTraining(recordId) {
            document.getElementById('completingRecordId').value = recordId;
            document.getElementById('completeTrainingPanel').style.display = 'block';
            document.getElementById('completeTrainingPanel').scrollIntoView({ behavior: 'smooth' });
        }

        async function submitCompleteTraining(e) {
            e.preventDefault();
            
            if (!contract) {
                showToast('Please connect wallet first', 'error');
                return;
            }

            try {
                const recordId = document.getElementById('completingRecordId').value;
                const completed = document.getElementById('trainingCompleted').value === 'true';
                const certified = document.getElementById('certificationAchieved').value === 'true';
                const score = parseInt(document.getElementById('trainingScore').value);
                const notes = document.getElementById('trainingNotes').value;

                showToast('Completing training record...');
                
                const tx = await contract.completeTraining(
                    recordId,
                    completed,
                    certified,
                    score,
                    notes
                );
                
                await tx.wait();
                showToast('Training completed successfully!');
                
                cancelCompleteTraining();
                await loadTrainingRecords();
                
            } catch (error) {
                showToast('Failed to complete training: ' + error.message, 'error');
            }
        }

        function cancelCompleteTraining() {
            document.getElementById('completeTrainingPanel').style.display = 'none';
            document.getElementById('completeTrainingForm').reset();
        }

        // Load and display functions
        async function loadTrainingRecords() {
            if (!contract || !currentAccount) return;

            try {
                const recordCount = await contract.recordCounter();
                allRecords = [];
                
                for (let i = 0; i < Number(recordCount); i++) {
                    try {
                        const record = await contract.getTrainingRecord(i);
                        const isExpired = await contract.isTrainingExpired(i);
                        
                        const [employee, employeeName, trainingModule, completionTime, expiryTime, isActive, score, notes] = record;
                        
                        allRecords.push({
                            id: i,
                            employee,
                            employeeName,
                            trainingModule,
                            completionTime: Number(completionTime),
                            expiryTime: Number(expiryTime),
                            isActive,
                            score: Number(score),
                            notes,
                            isExpired
                        });
                        
                    } catch (error) {
                        console.error(`Error loading record ${i}:`, error);
                    }
                }

                updateStatistics();
                displayRecords('all');
                
            } catch (error) {
                console.error('Error loading training records:', error);
                showToast('Failed to load training records', 'error');
            }
        }

        function updateStatistics() {
            const total = allRecords.length;
            const completed = allRecords.filter(r => r.completionTime > 0).length;
            const expired = allRecords.filter(r => r.isExpired).length;
            const pending = allRecords.filter(r => r.completionTime === 0).length;

            document.getElementById('totalRecords').textContent = total;
            document.getElementById('completedTraining').textContent = completed;
            document.getElementById('expiredTraining').textContent = expired;
            document.getElementById('pendingTraining').textContent = pending;
        }

        function displayRecords(filter) {
            let records = allRecords;
            let containerId = 'allRecords';

            switch (filter) {
                case 'pending':
                    records = allRecords.filter(r => r.completionTime === 0);
                    containerId = 'pendingRecords';
                    break;
                case 'completed':
                    records = allRecords.filter(r => r.completionTime > 0);
                    containerId = 'completedRecords';
                    break;
                case 'expired':
                    records = allRecords.filter(r => r.isExpired);
                    containerId = 'expiredRecords';
                    break;
            }

            const container = document.getElementById(containerId);

            if (records.length === 0) {
                let icon, message;
                switch (filter) {
                    case 'pending':
                        icon = '‚è≥';
                        message = 'No pending training records';
                        break;
                    case 'completed':
                        icon = '‚úÖ';
                        message = 'No completed training records';
                        break;
                    case 'expired':
                        icon = '‚ö†Ô∏è';
                        message = 'No expired training records';
                        break;
                    default:
                        icon = 'üìö';
                        message = 'No training records found';
                }
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="icon">${icon}</div>
                        <p>${message}</p>
                    </div>
                `;
                return;
            }

            const recordCards = records.map(record => {
                const moduleNames = {
                    'data-privacy': 'Data Privacy Fundamentals',
                    'gdpr-compliance': 'GDPR Compliance',
                    'security-awareness': 'Security Awareness',
                    'incident-response': 'Incident Response'
                };

                let status = 'Pending';
                let statusClass = 'status-pending';
                
                if (record.completionTime > 0) {
                    status = record.isExpired ? 'Completed (Expired)' : 'Completed';
                    statusClass = record.isExpired ? 'status-expired' : 'status-completed';
                } else if (record.isExpired) {
                    status = 'Expired';
                    statusClass = 'status-expired';
                }

                const canComplete = record.completionTime === 0 && (
                    currentAccount.toLowerCase() === record.employee.toLowerCase() ||
                    // Add logic to check if current account is authorized trainer
                    true
                );

                return `
                    <div class="record-card">
                        <h3>üéì Training Record #${record.id}</h3>
                        <div class="record-info">
                            <span><strong>Employee:</strong> ${record.employeeName}</span>
                            <span><strong>Address:</strong> ${record.employee.slice(0,6)}...${record.employee.slice(-4)}</span>
                            <span><strong>Module:</strong> ${moduleNames[record.trainingModule] || record.trainingModule}</span>
                            <div class="status-badge ${statusClass}">${status}</div>
                            ${record.completionTime > 0 ? `
                                <span><strong>Completed:</strong> ${new Date(record.completionTime * 1000).toLocaleDateString()}</span>
                                <span><strong>Score:</strong> ${record.score}/100</span>
                                ${record.expiryTime > 0 ? `<span><strong>Expires:</strong> ${new Date(record.expiryTime * 1000).toLocaleDateString()}</span>` : ''}
                                ${record.notes ? `<span><strong>Notes:</strong> ${record.notes}</span>` : ''}
                            ` : ''}
                        </div>
                        ${canComplete ? `
                            <div style="margin-top: 15px;">
                                <button class="btn btn-success" onclick="completeTraining(${record.id})">Complete Training</button>
                            </div>
                        ` : ''}
                    </div>
                `;
            }).join('');

            container.innerHTML = recordCards;
        }

        function clearDashboard() {
            allRecords = [];
            updateStatistics();
            document.querySelectorAll('.record-grid').forEach(grid => {
                grid.innerHTML = `
                    <div class="empty-state">
                        <div class="icon">üìö</div>
                        <p>Connect wallet to view training records</p>
                    </div>
                `;
            });
        }

        // Initialize app
        window.addEventListener('load', () => {
            document.getElementById('connectBtn').onclick = connectWallet;
            document.getElementById('createRecordForm').onsubmit = createTrainingRecord;
            document.getElementById('completeTrainingForm').onsubmit = submitCompleteTraining;
            
            console.log('Privacy Training Record Tracker initialized');
        });
    </script>
</body>
</html>